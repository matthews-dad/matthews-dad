<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="style.css" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/star-wars" rel="stylesheet">
    <script src="script.js"></script>

    <link rel="icon" type="image/x-icon" href="money.png" />
    <title>Economic Inequality is not tuff</title>
</head>
<body>
    <script>
        window.scrollTo(0, 0);
    </script>
    <!--<h2 class="scrollText" style="top:%;"></h2>-->
    <div class="container">
        <canvas id="canvas"></canvas>
        <div class="slides" style="height:70vh;">
        </div>
        <div class="slides" style="height:200vh;">
            <h2 class="scrollText" style="top:16%;">Two centuries ago...</h2>
            <h2 class="scrollText" style="top:32%;">Our founding fathers united the Thirteen Colonies to</h2>
            <h2 class="scrollText" style="top:35%;">fight the War of Independence.</h2>
            <h2 class="scrollText" style="top:51%;">Out of control money printing to fund the Revolutionary</h2>
            <h2 class="scrollText" style="top:54%;">War at both the state and federal levels led to incredible</h2>
            <h2 class="scrollText" style="top:57%;">hyperinflation during the period of the first Continental</h2>
            <h2 class="scrollText" style="top:60%;">Congress.</h2>
            <h2 class="scrollText" style="top:76%;">Economic imbalance is still problematic today because it</h2>
            <h2 class="scrollText" style="top:80%;">worsens inequality, restricts social mobility, and undermines</h2>
            <h2 class="scrollText" style="top:84%;">social cohesion. So lets dive in deeper with the help of...</h2>
            <h2 style="top:95%;font-size:4vw;">Alex Tran! (Self-proclaimed alpha wolf)</h2>
        </div>
<script>
    const container = document.querySelector('.container');
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');

    // Set canvas dimensions
    canvas.width = container.offsetWidth;
    canvas.height = container.offsetHeight;

    // Shooting stars array
    const shootingStars = [];

    // Function to generate a random number between min and max
    function random(min, max) {
      return Math.random() * (max - min) + min;
    }

    // Shooting star class
    class ShootingStar {
        constructor() {
          this.x = random(0, canvas.width);
          this.y = random(0, canvas.height);
          this.speed = random(1, 5);
          this.size = random(1, 3);
          this.opacity = 1; // Fixed opacity for now
        }

        // Draw the shooting star
        draw() {
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
          ctx.fillStyle = `rgba(255, 255, 255, 1)`; // Set opacity to 1
          ctx.fill();
        }

        // Update the shooting star's position
        update() {
            this.x += this.speed;
            this.y -= this.speed * 0.5;

            // If the star goes out of the canvas, reset its position
            if (this.x > canvas.width || this.y < 0) {
                this.x = 0  ;
                this.y = random(0,canvas.height);
            }
        }
    }

    // Function to create shooting stars
    function createShootingStars() {
        const numStars = 200;
        for (let i = 0; i < numStars; i++) {
            shootingStars.push(new ShootingStar());
        }
    }

    // Animation loop
    function animate() {
        requestAnimationFrame(animate);
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        // Draw and update each shooting star
        shootingStars.forEach(star => {
            star.draw();
            star.update();
        });
    }

    // Initialize
    createShootingStars();
    animate();
</script>
        <script>
            const texts = document.querySelectorAll('.scrollText');
        
            const observer = new IntersectionObserver(entries => {
              entries.forEach(entry => {
                if (entry.isIntersecting) {
                  const text = entry.target;
        
                  window.addEventListener('scroll', () => {
                    const scrollY = window.scrollY;
                    const textTop = text.getBoundingClientRect().top + window.scrollY;
                    const newSize = Math.max(1, 0 - (scrollY - textTop) / 310); // Ensure font size does not go below 1vw
                    text.style.fontSize = `${newSize}vw`; // Use vw (viewport width) units
                  });
                }
              });
            });
        
            texts.forEach(text => observer.observe(text));
          </script>          
    </div>
    <div class="container2">
        <div class="slides1">
            <iframe src="https://prezi.com/p/embed/M4gWBQxcyuiPhVFvIJum/" id="iframe_container" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" allow="autoplay; fullscreen" height="100%" width="100%"></iframe>
        </div>
    </div>
</body>
</html>
